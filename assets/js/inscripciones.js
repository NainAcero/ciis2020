$(document).ready(function() {































































    // Verificar Asistencia































    $('.bee_add_verifica').on('submit' , bee_add_verifica);































































    function bee_add_verifica(event){































        event.preventDefault();































        var form = $('.bee_add_verifica'),































            register = $('.hideRegister'),































            asistencia = $('.hideAsistencia'),































            hook = 'bee_hook',































            action = 'add',































            data = new FormData(form.get(0)), // obtenemos los valores del formulario todos los inputs































            numero = $('#numero').val();































            data.append('hook', hook);































            data.append('action', action);































































        // validar































        if(numero == null || numero.length == 0){































            Swal.fire(































                'Ingrese todos los campos!',































                'Selecciona un número válido',































                'warning'































              )































            return;































        }































        































        // AJAX































        $.ajax({































            url: 'ajax/bee_verificar',































            type: 'post',































            dataType: 'json',































            contentType: false,































            processData: false,































            cache: false,































            data: data,































            beforeSend: function() {































                































            }































        }).done(function(res) {































            if(res.status === 200) {































                // console.log(res.data);































































                if(res.data == false){































                    register[0].style.display = "inline-block";































                    register[1].style.display = "inline-block";































                    asistencia[0].style.display = "none";































                }else if(res.data.id != null){































                    asistencia[0].style.display = "inline-block";































                    register[0].style.display = "none";































                    register[1].style.display = "none";































                }































            }































        }).fail(function(err) {































            console.log('Hubo un error en la petición' , '¡Upss!');































        }).always(function() {































































        })































    }



































































































































    // Agregar Usuario































    $('.bee_add_new_usuario').on('submit' , bee_add_new_usuario);































    function bee_add_new_usuario(event){































        event.preventDefault();































        var form = $('.bee_add_new_usuario'),































            hook = 'bee_hook',































            action = 'add',































            data = new FormData(form.get(0)), // obtenemos los valores del formulario todos los inputs































            nombre = $('#nombre').val(),































            apellido = $('#apellido').val();


















































            cargo = $('#cargo').val();































            email = $('#email').val();































            numero_doc = $('#numero_doc').val();































            pais = $('#pais').val();































            celular = $('#celular').val();































            ciudad = $('#ciudad').val();































            data.append('hook', hook);































            data.append('action', action);































































        // validar que este seleccionada una opcion type









































        if(cargo === 'none'){































            console.logr('Selecciona un cargo válido' , '¡Upss!');































            return;































        }































        // validar nombre































        if(nombre === '' || nombre.length < 2) {































            Swal.fire(































                'Ingrese todos los campos!',































                'Ingrese un nombre válido',































                'warning'































              )































            return;































        }














        
        if(!validarCaracteres(nombre)){

            Swal.fire(

                'Ingrese todos los campos!',

                'Ingrese un nombre válido',

                'warning'

              )

            return;
        }













        // validar apellido































        if(apellido === '' || apellido.length < 2) {































            Swal.fire(































                'Ingrese todos los campos!',































                'Ingrese un apellido válido',































                'warning'































              )































            return;































        }





















        if(!validarCaracteres(apellido)){

            Swal.fire(

                'Ingrese todos los campos!',

                'Ingrese un apellido válido',

                'warning'

              )

            return;
        }







        // validar email































        if(email === '' || email.length < 2) {































            Swal.fire(































                'Ingrese todos los campos!',































                'Ingrese un email válido',































                'warning'































              )































            return;































        }










        if(!validarEmail(email)){

            Swal.fire(

                'Ingrese todos los campos!',

                'Ingrese un email válido',

                'warning'

              )

            return;

        }




        function validarEmail(email) {
            emailRegex = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
            if (emailRegex.test(email)) {
                return true;
            } else {
                return false;
            }
        }

        function validarCaracteres(caracter) {
            caracteregex = /[a-zA-ZñÑáéíóúÁÉÍÓÚ\s]+$/;
            if (caracteregex.test(caracter)) {
                return true;
            } else {
                return false;
            }
        }


        function validarNumero(num){
            numero = /^([0-9])*$/;

            if (numero.test(num)) {
                return true;
            } else {
                return false;
            }
        }






        // validar numero_doc










        if(numero_doc === '' || numero_doc.length < 2) {















            Swal.fire(















                'Ingrese todos los campos!',















                'Ingrese un número de documento válido',















                'warning'















              )















            return;















        }






        if(!validarNumero(numero_doc)){
            Swal.fire(

                'Ingrese todos los campos!',

                'Ingrese un número de documento válido',

                'warning'

              )


            return ;


        }






















        

        // validar pais































        if(pais === '' || pais.length < 2) {































            Swal.fire(































                'Ingrese todos los campos!',































                'Ingrese un país válido',































                'warning'































              )































            return;































        }































        // validar pais































        if(celular === '' || celular.length < 2) {































            Swal.fire(































                'Ingrese todos los campos!',































                'Ingrese un celular válido',































                'warning'































              )































            return;































        }































        // validar ciudad































        if(ciudad === '' || ciudad.length < 2) {































            Swal.fire(































                'Ingrese todos los campos!',































                'Ingrese una Ciudad válida',































                'warning'































              )































            return;































        }































































        // AJAX































        $.ajax({































            url: 'ajax/bee_add_usuario',































            type: 'post',































            dataType: 'json',































            contentType: false,































            processData: false,































            cache: false,































            data: data,































            beforeSend: function() {































                































            }































        }).done(function(res) {































            if(res.status === 201) {































                Swal.fire(































                    'Registro Exitoso!',































                    'Usuario ' + res.data.nombre + ' ' + res.data.apellido,































                    'success'































                  );























                document.getElementById("bee_add_new_usuario").reset();















                $('.modalRegister').modal('hide');


















                setTimeout(function(){ window.open("https://ciistacna.com/2020/cronograma", '_blank'); }, 3000);













            }else if(res.status === 200){































                Swal.fire(































                    'Usuario ya Registrado con este correo o documento!',































                    'Verifique: ' + numero_doc + ', ' + email,































                    'error'































                  )































            }































        }).fail(function(err) {































            Swal.fire(































                'Error!',































                'Hubo un error en la petición',































                'error'































              )








































        }).always(function() {































































        })































    }



































































});























var nom = "";















var numero = null;























function inscripcionesTalleres(nombre){







    nom = nombre;







}















function inscribir(){







    







    numero = $('#numero').val();















    var form = $('.bee_add_new_usuario'),















    hook = 'bee_hook',















    action = 'add',















    data = new FormData(form.get(0));















    data.append('hook', hook);















    data.append('action', action);















    data.append('numero', numero);















    data.append('nombre', nom);















    $.ajax({















        url: 'ajax/bee_add_taller',















        type: 'post',















        dataType: 'json',















        contentType: false,















        processData: false,















        cache: false,















        data: data,















        beforeSend: function() {















 















        }















    }).done(function(res) {















        if(res.status === 201) {















            console.log(res.msg , '¡Bien!');































            Swal.fire(































                'Taller Registrado!',































                'Usuario ' + res.data.nombre + ' se registro  ' + nom,































                'success'































                );















                















            $('.registerEvento').modal('hide');















        }else if(res.status === 200) {































            Swal.fire(































                'Usuario ya registrado!',































                'Usuario ' + res.data.nombre + ' ya se registro  ' + nom,































                'warning'































                );















                















            $('.registerEvento').modal('hide');















        }else if(res.status === 202) {































            Swal.fire(































                'Usuario ya registrado!',































                'Usuario ' + res.data.nombre + ' ya se registro  a otro taller !' ,































                'warning'































                );















                















            $('.registerEvento').modal('hide');















        }















    }).fail(function(err) {















    















        Swal.fire(































            'Error!',































            'Revise su número o email que esten correctos',































            'warning'































        );















        console.log(err , '¡Upss!');















    }).always(function() {















    















    })















}
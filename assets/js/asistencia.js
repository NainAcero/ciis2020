$(document).ready(function() {































































































































































































































































    // Verificar Asistencia































































































































    $('.bee_add_verifica').on('submit' , bee_add_verifica);































































































































































































































































    function bee_add_verifica(event){































































































































        event.preventDefault();































































































































        var form = $('.bee_add_verifica'),































































































































            register = $('.hideRegister'),































































































































            asistencia = $('.hideAsistencia'),































































































































            hook = 'bee_hook',































































































































            action = 'add',































































































































            data = new FormData(form.get(0)), // obtenemos los valores del formulario todos los inputs































































































































            numero = $('#numero').val();































































































































            data.append('hook', hook);































































































































            data.append('action', action);































































































































































































































































        // validar































































































































        if(numero == null || numero.length == 0){































































































































            Swal.fire(































































































































                'Ingrese todos los campos!',































































































































                'Selecciona un número válido',































































































































                'warning'































































































































              )































































































































            return;































































































































        }































































































































        































































































































        // AJAX































































































































        $.ajax({































































































































            url: 'ajax/bee_verificar',































































































































            type: 'post',































































































































            dataType: 'json',































































































































            contentType: false,































































































































            processData: false,































































































































            cache: false,































































































































            data: data,































































































































            beforeSend: function() {































































































































                































































































































            }































































































































        }).done(function(res) {































































































































            if(res.status === 200) {































































































































                // console.log(res.data);































































































































































































































































                if(res.data == false){































































































































                    register[0].style.display = "inline-block";































































































































                    register[1].style.display = "inline-block";































































































































                    asistencia[0].style.display = "none";































































































































                }else if(res.data.id != null){































































































































                    asistencia[0].style.display = "inline-block";































































































































                    register[0].style.display = "none";































































































































                    register[1].style.display = "none";































































































































                }































































































































            }































































































































        }).fail(function(err) {































































































































            console.log('Hubo un error en la petición' , '¡Upss!');































































































































        }).always(function() {































































































































































































































































        })































































































































    }































































































































































































































































    bee_get_ponencias();































































































































































































































































    function bee_get_ponencias(event){































































































































        var wrapper = $('.bee_wrapper_ponencias'),































































































































            hook = 'bee_hook',































































































































            action = 'load';































































































































































































































































            $.ajax({































































































































                url: 'ajax/bee_wrapper_ponencias',































































































































                type: 'post',































































































































                dataType: 'json',































































































































                cache: false,































































































































                data: {































































































































                    hook, action































































































































                },































































































































                beforeSend: function() {































































































































































































































































                }































































































































            }).done(function(res) {































































































































                if(res.status === 201) {































































































































                    bee_cargarData(res.data);































































































































































































































































                }else{































































































































                    console.log(res.data, '¡Upss!');































































































































                }































































































































            }).fail(function(err) {































































































































                console.log('Hubo un error en la petición' , '¡Upss!');































































































































































































































































            }).always(function() {































































































































































































































































            })































































































































    }































































































































































































































































































































































































































































































































































































































































    function bee_cargarData(data){































































































































        var wrapper = $('.bee_wrapper_ponencias');































































































































        var html = "";































































































































        $('.btnCargando')[0].style.display = "none";































































































































        































































































































        data.forEach(element => {































































































































            var fecha = new Date(element.p_fecha);















            var dias = ["Domingo", "Lunes", "Martes","Miercoles", "Jueves", "Viernes", "Sábado"];















            var mes = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];























            var fecha_mostrar = ' ' + dias[fecha.getDay() + 1] + ', ' + (fecha.getDate() + 1) + ' de ' + mes[fecha.getMonth()] + ' del ' + fecha.getFullYear() + ' GMT-0500 (hora estándar de Perú)';















































            if(element.visualizar == 1){







                







                html += 































































































































                `<div class="col-lg-12 col-md-12 col-12">` +















                    `<div class="single-course">` +















                        `<div class="course-body">` +















                            `<div class="row">` +















                            `<div class="col-lg-6 col-md-6 col-12 align-self-center">` +















                                `<div class="row">`+















                                    `<div class="col-lg-7 col-md-7 col-12 align-self-center">`+















                                        `<br>`+















                                        `<div class="course-head ">`+















                                            `<img src="${element.foto_pon}" alt="#">`+















                                        `</div>`+















                                        `<div class="course-body">` +















                                            `<div class="name-price">` +















                                                `<div class="teacher-info">` +















                                                    `<img src="${element.pais}" alt="#">` +















                                                `</div>` +















                                                `<span class="price" style="font-size:12px">${element.nom_pon} ${element.apell_pon}</span>` +















                                            `</div>` +















                                        `</div>` +















                                    `</div>`+















                                    















                                    `<div class="col-lg-5 col-md-5 col-12 mt-5 align-self-center mb-4">`+















                                        `<h4 style="color: #0056b2;" class="text-uppercase">${element.p_nom}</h4>`+















                                        `<br>`+















                                        `<p style="font-size:16px ;color:black;" ><b>Modalidad:</b> Virtual</p>`+















                                    `</div>`+















                                `</div>`+















                            `</div>` +















                            `<div class="col-lg-6 col-md-6 col-12 align-self-center">` +















                                `<br>`+















                                `<p style="font-size:17px;color:black;"><b>Fecha:</b> ${fecha_mostrar} </p>`+















                                `<br>`+















                                `<p style="font-size:17px;color:black;"><b>Hora:</b> ${element.p_ini} (GMT -5, Lima - Perú)</p>`+















                                `<br>`+















                                `<p style="font-size:17px;color:black;"><b>Ponente:</b> ${element.nom_pon} ${element.apell_pon}</p>`+















                                `<br>`+















                                `<div class="text-center mt-4">`+















                                    `<button type="button" onclick="obtenerPonencia(${element.id})" class="btn black primary" data-toggle="modal" data-target="#exampleModalLong">Marcar asistencia</button>` +















                                `</div>` +















                            `</div>` +















                            `</div>` +















                        `</div>` +















                    `</div>` + 















                `</div>`;















            }































































































































        });































































































































        wrapper.html(html);































































































































    }































































































































































































































































    // Agregar Usuario































































































































    $('.bee_add_new_usuario').on('submit' , bee_add_new_usuario);































































































































    function bee_add_new_usuario(event){































































































































        event.preventDefault();































































































































        var form = $('.bee_add_new_usuario'),































































































































            hook = 'bee_hook',































































































































            action = 'add',































































































































            data = new FormData(form.get(0)), // obtenemos los valores del formulario todos los inputs































































































































            nombre = $('#nombre').val(),































































































































            apellido = $('#apellido').val();































































































































     















































































            cargo = $('#cargo').val();































































































































            email = $('#email').val();































































































































            numero_doc = $('#numero_doc').val();































































































































            pais = $('#pais').val();































































































































            celular = $('#celular').val();































































































































            ciudad = $('#ciudad').val();































































































































            data.append('hook', hook);































































































































            data.append('action', action);































































































































































































































































        // validar que este seleccionada una opcion type















































































































































        if(cargo === 'none'){































































































































            console.logr('Selecciona un cargo válido' , '¡Upss!');































































































































            return;































































































































        }































































































































        // validar nombre































































































































        if(nombre === '' || nombre.length < 2) {































































































































            Swal.fire(































































































































                'Ingrese todos los campos!',































































































































                'Ingrese un nombre válido',































































































































                'warning'































































































































              )































































































































            return;































































































































        }























































        if(!validarCaracteres(nombre)){















            Swal.fire(















                'Ingrese todos los campos!',















                'Ingrese un nombre válido',















                'warning'















              )















            return;







        }







































































        // validar apellido































































































































        if(apellido === '' || apellido.length < 2) {































































































































            Swal.fire(































































































































                'Ingrese todos los campos!',































































































































                'Ingrese un apellido válido',































































































































                'warning'































































































































              )































































































































            return;































































































































        }































































        if(!validarCaracteres(apellido)){















            Swal.fire(















                'Ingrese todos los campos!',















                'Ingrese un apellido válido',















                'warning'















              )















            return;







        }































































        // validar email































































































































        if(email === '' || email.length < 2) {































































































































            Swal.fire(































































































































                'Ingrese todos los campos!',































































































































                'Ingrese un email válido',































































































































                'warning'































































































































              )































































































































            return;































































































































        }















        if(!validarEmail(email)){















            Swal.fire(















                'Ingrese todos los campos!',















                'Ingrese un email válido',















                'warning'















              )















            return;















        }







































        function validarEmail(email) {







            emailRegex = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;







            if (emailRegex.test(email)) {







                return true;







            } else {







                return false;







            }







        }















        function validarCaracteres(caracter) {







            caracteregex = /[a-zA-ZñÑáéíóúÁÉÍÓÚ\s]+$/;







            if (caracteregex.test(caracter)) {







                return true;







            } else {







                return false;







            }







        }























        function validarNumero(num){







            numero = /^([0-9])*$/;















            if (numero.test(num)) {







                return true;







            } else {







                return false;







            }







        }























































        // validar numero_doc























































































        if(numero_doc === '' || numero_doc.length < 2) {































































































































            Swal.fire(































































































































                'Ingrese todos los campos!',































































































































                'Ingrese un número de documento válido',































































































































                'warning'































































































































              )































































































































            return;































































































































        }























































        if(!validarNumero(numero_doc)){







            Swal.fire(















                'Ingrese todos los campos!',















                'Ingrese un número de documento válido',















                'warning'















              )























            return ;























        }







































































        // validar pais































































































































        if(pais === '' || pais.length < 2) {































































































































            Swal.fire(































































































































                'Ingrese todos los campos!',































































































































                'Ingrese un país válido',































































































































                'warning'































































































































              )































































































































            return;































































































































        }































































































































        // validar pais































































































































        if(celular === '' || celular.length < 2) {































































































































            Swal.fire(































































































































                'Ingrese todos los campos!',































































































































                'Ingrese un celular válido',































































































































                'warning'































































































































              )































































































































            return;































































































































        }































































































































        // validar ciudad































































































































        if(ciudad === '' || ciudad.length < 2) {































































































































            Swal.fire(































































































































                'Ingrese todos los campos!',































































































































                'Ingrese una Ciudad válida',































































































































                'warning'































































































































              )































































































































            return;































































































































        }































































































































































































































































        // AJAX































































































































        $.ajax({































































































































            url: 'ajax/bee_add_usuario',































































































































            type: 'post',































































































































            dataType: 'json',































































































































            contentType: false,































































































































            processData: false,































































































































            cache: false,































































































































            data: data,































































































































            beforeSend: function() {































































































































                































































































































            }































































































































        }).done(function(res) {































































































































            if(res.status === 201) {































































































































                Swal.fire(































































































































                    'Registro Exitoso!',































































































































                    'Usuario ' + res.data.nombre + ' ' + res.data.apellido,































































































































                    'success'































































































































                  );































































































                document.getElementById("bee_add_new_usuario").reset();































































                $('.modalRegister').modal('hide');















































                setTimeout(function(){ window.open("http://157.245.136.158/cronograma", '_blank'); }, 3000);























































































            }else if(res.status === 200){































































































































                Swal.fire(































































































































                    'Usuario ya Registrado con este correo o documento!',































































































































                    'Verifique: ' + numero_doc + ', ' + email,































































































































                    'error'































































































































                  )































































































































            }































































































































        }).fail(function(err) {































































































































            Swal.fire(































































































































                'Error!',































































































































                'Hubo un error en la petición',































































































































                'error'































































































































              )























































































            







































































        }).always(function() {































































































































































































































































        })































































































































    }































































































































































































































































});































































































































































































































































var ponencia = null;































































































































































































var numero = null;































































































































































































function obtenerPonencia(id){































































































































    ponencia = id;































































































































}































































































































function asistencia(){































































































































    numero = $('#numero').val();































































































































    var form = $('.bee_add_new_usuario'),































































    hook = 'bee_hook',































































    action = 'add',































































    data = new FormData(form.get(0));































































    data.append('hook', hook);































































    data.append('action', action);































































    data.append('numero', numero);































































    data.append('ponencia', ponencia);































































        































































    $.ajax({































































        url: 'ajax/bee_add_asistencia',































































        type: 'post',































































        dataType: 'json',































































        contentType: false,































































        processData: false,































































        cache: false,































































        data: data,































































        beforeSend: function() {































































 































































        }































































    }).done(function(res) {































































        if(res.status === 201) {































































            console.log(res.msg , '¡Bien!');































































































































            Swal.fire(































































































































                'Asistencia Registrada!',































































































































                'Usuario ' + res.data.nombre,



















                'success'











                );























            $('.registerEvento').modal('hide');























            







            















        }else if(res.status === 200) {







            



            Swal.fire(







                'Asistencia ya Registrada!',







                'Usuario ya marco asistencia!',



                'warning'







                );







        }































































    }).fail(function(err) {































































    































































        Swal.fire(































































































































            'Error!',































































































































            'Revise su número o email que esten correctos',































































































































            'warning'































































































































        );































































        console.log('Hubo un error en la petición' , '¡Upss!');































































    }).always(function() {































































    































































    })































































































































}































































function inscripcionesTalleres(nombre){































    console.log(data);































}